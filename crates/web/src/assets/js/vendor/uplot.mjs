/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/uplot@1.6.30/dist/uPlot.esm.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
const FEAT_TIME=!0,pre="u-",UPLOT="uplot",ORI_HZ="u-hz",ORI_VT="u-vt",TITLE="u-title",WRAP="u-wrap",UNDER="u-under",OVER="u-over",AXIS="u-axis",OFF="u-off",SELECT="u-select",CURSOR_X="u-cursor-x",CURSOR_Y="u-cursor-y",CURSOR_PT="u-cursor-pt",LEGEND="u-legend",LEGEND_LIVE="u-live",LEGEND_INLINE="u-inline",LEGEND_SERIES="u-series",LEGEND_MARKER="u-marker",LEGEND_LABEL="u-label",LEGEND_VALUE="u-value",WIDTH="width",HEIGHT="height",TOP="top",BOTTOM="bottom",LEFT="left",RIGHT="right",hexBlack="#000",transparent="#0000",mousemove="mousemove",mousedown="mousedown",mouseup="mouseup",mouseenter="mouseenter",mouseleave="mouseleave",dblclick="dblclick",resize="resize",scroll="scroll",change="change",dppxchange="dppxchange",LEGEND_DISP="--",domEnv="undefined"!=typeof window,doc=domEnv?document:null,win=domEnv?window:null,nav=domEnv?navigator:null;let pxRatio,query;function setPxRatio(){let e=devicePixelRatio;pxRatio!=e&&(pxRatio=e,query&&off(change,query,setPxRatio),query=matchMedia(`(min-resolution: ${pxRatio-.001}dppx) and (max-resolution: ${pxRatio+.001}dppx)`),on(change,query,setPxRatio),win.dispatchEvent(new CustomEvent(dppxchange)))}function addClass(e,l){if(null!=l){let t=e.classList;!t.contains(l)&&t.add(l)}}function remClass(e,l){let t=e.classList;t.contains(l)&&t.remove(l)}function setStylePx(e,l,t){e.style[l]=t+"px"}function placeTag(e,l,t,n){let i=doc.createElement(e);return null!=l&&addClass(i,l),null!=t&&t.insertBefore(i,n),i}function placeDiv(e,l){return placeTag("div",e,l)}const xformCache=new WeakMap;function elTrans(e,l,t,n,i){let s="translate("+l+"px,"+t+"px)";s!=xformCache.get(e)&&(e.style.transform=s,xformCache.set(e,s),l<0||t<0||l>n||t>i?addClass(e,OFF):remClass(e,OFF))}const colorCache=new WeakMap;function elColor(e,l,t){let n=l+t;n!=colorCache.get(e)&&(colorCache.set(e,n),e.style.background=l,e.style.borderColor=t)}const sizeCache=new WeakMap;function elSize(e,l,t,n){let i=l+""+t;i!=sizeCache.get(e)&&(sizeCache.set(e,i),e.style.height=t+"px",e.style.width=l+"px",e.style.marginLeft=n?-l/2+"px":0,e.style.marginTop=n?-t/2+"px":0)}const evOpts={passive:!0},evOpts2={...evOpts,capture:!0};function on(e,l,t,n){l.addEventListener(e,t,n?evOpts2:evOpts)}function off(e,l,t,n){l.removeEventListener(e,t,n?evOpts2:evOpts)}function closestIdx(e,l,t,n){let i;t=t||0;let s=(n=n||l.length-1)<=2147483647;for(;n-t>1;)i=s?t+n>>1:floor((t+n)/2),l[i]<e?t=i:n=i;return e-l[t]<=l[n]-e?t:n}function nonNullIdx(e,l,t,n){for(let i=1==n?l:t;i>=l&&i<=t;i+=n)if(null!=e[i])return i;return-1}function getMinMax(e,l,t,n){let i=inf,s=-inf;if(1==n)i=e[l],s=e[t];else if(-1==n)i=e[t],s=e[l];else for(let n=l;n<=t;n++){let l=e[n];null!=l&&(l<i&&(i=l),l>s&&(s=l))}return[i,s]}function getMinMaxLog(e,l,t){let n=inf,i=-inf;for(let s=l;s<=t;s++){let l=e[s];null!=l&&l>0&&(l<n&&(n=l),l>i&&(i=l))}return[n,i]}function rangeLog(e,l,t,n){let i=sign(e),s=sign(l);e==l&&(-1==i?(e*=t,l/=t):(e/=t,l*=t));let o=10==t?log10:log2,r=1==s?ceil:floor,a=(1==i?floor:ceil)(o(abs(e))),u=r(o(abs(l))),f=pow(t,a),c=pow(t,u);return 10==t&&(a<0&&(f=roundDec(f,-a)),u<0&&(c=roundDec(c,-u))),n||2==t?(e=f*i,l=c*s):(e=incrRoundDn(e,f),l=incrRoundUp(l,c)),[e,l]}function rangeAsinh(e,l,t,n){let i=rangeLog(e,l,t,n);return 0==e&&(i[0]=0),0==l&&(i[1]=0),i}domEnv&&setPxRatio();const rangePad=.1,autoRangePart={mode:3,pad:.1},_eqRangePart={pad:0,soft:null,mode:0},_eqRange={min:_eqRangePart,max:_eqRangePart};function rangeNum(e,l,t,n){return isObj(t)?_rangeNum(e,l,t):(_eqRangePart.pad=t,_eqRangePart.soft=n?0:null,_eqRangePart.mode=n?3:0,_rangeNum(e,l,_eqRange))}function ifNull(e,l){return null==e?l:e}function hasData(e,l,t){for(l=ifNull(l,0),t=ifNull(t,e.length-1);l<=t;){if(null!=e[l])return!0;l++}return!1}function _rangeNum(e,l,t){let n=t.min,i=t.max,s=ifNull(n.pad,0),o=ifNull(i.pad,0),r=ifNull(n.hard,-inf),a=ifNull(i.hard,inf),u=ifNull(n.soft,inf),f=ifNull(i.soft,-inf),c=ifNull(n.mode,0),p=ifNull(i.mode,0),d=l-e,m=log10(d),h=max(abs(e),abs(l)),g=log10(h),x=abs(g-m);(d<1e-9||x>10)&&(d=0,0!=e&&0!=l||(d=1e-9,2==c&&u!=inf&&(s=0),2==p&&f!=-inf&&(o=0)));let _=d||h||1e3,w=log10(_),S=pow(10,floor(w)),y=roundDec(incrRoundDn(e-_*(0==d?0==e?.1:1:s),S/10),9),T=e>=u&&(1==c||3==c&&y<=u||2==c&&y>=u)?u:inf,v=max(r,y<T&&e>=T?T:min(T,y)),b=roundDec(incrRoundUp(l+_*(0==d?0==l?.1:1:o),S/10),9),P=l<=f&&(1==p||3==p&&b>=f||2==p&&b<=f)?f:-inf,D=min(a,b>P&&l<=P?P:max(P,b));return v==D&&0==v&&(D=100),[v,D]}const numFormatter=new Intl.NumberFormat(domEnv?nav.language:"en-US"),fmtNum=e=>numFormatter.format(e),M=Math,PI=M.PI,abs=M.abs,floor=M.floor,round=M.round,ceil=M.ceil,min=M.min,max=M.max,pow=M.pow,sign=M.sign,log10=M.log10,log2=M.log2,sinh=(e,l=1)=>M.sinh(e)*l,asinh=(e,l=1)=>M.asinh(e/l),inf=1/0;function numIntDigits(e){return 1+(0|log10((e^e>>31)-(e>>31)))}function clamp(e,l,t){return min(max(e,l),t)}function fnOrSelf(e){return"function"==typeof e?e:()=>e}const noop=()=>{},retArg0=e=>e,retArg1=(e,l)=>l,retNull=e=>null,retTrue=e=>!0,retEq=(e,l)=>e==l,fixFloat=e=>roundDec(e,14);function incrRound(e,l){return fixFloat(roundDec(fixFloat(e/l))*l)}function incrRoundUp(e,l){return fixFloat(ceil(fixFloat(e/l))*l)}function incrRoundDn(e,l){return fixFloat(floor(fixFloat(e/l))*l)}function roundDec(e,l=0){if(isInt(e))return e;let t=10**l,n=e*t*(1+Number.EPSILON);return round(n)/t}const fixedDec=new Map;function guessDec(e){return((""+e).split(".")[1]||"").length}function genIncrs(e,l,t,n){let i=[],s=n.map(guessDec);for(let o=l;o<t;o++){let l=abs(o),t=roundDec(pow(e,o),l);for(let e=0;e<n.length;e++){let r=n[e]*t,a=(r>=0&&o>=0?0:l)+(o>=s[e]?0:s[e]),u=roundDec(r,a);i.push(u),fixedDec.set(u,a)}}return i}const EMPTY_OBJ={},EMPTY_ARR=[],nullNullTuple=[null,null],isArr=Array.isArray,isInt=Number.isInteger,isUndef=e=>void 0===e;function isStr(e){return"string"==typeof e}function isObj(e){let l=!1;if(null!=e){let t=e.constructor;l=null==t||t==Object}return l}function fastIsObj(e){return null!=e&&"object"==typeof e}const TypedArray=Object.getPrototypeOf(Uint8Array);function copy(e,l=isObj){let t;if(isArr(e)){let n=e.find((e=>null!=e));if(isArr(n)||l(n)){t=Array(e.length);for(let n=0;n<e.length;n++)t[n]=copy(e[n],l)}else t=e.slice()}else if(e instanceof TypedArray)t=e.slice();else if(l(e)){t={};for(let n in e)t[n]=copy(e[n],l)}else t=e;return t}function assign(e){let l=arguments;for(let t=1;t<l.length;t++){let n=l[t];for(let l in n)isObj(e[l])?assign(e[l],copy(n[l])):e[l]=copy(n[l])}return e}const NULL_REMOVE=0,NULL_RETAIN=1,NULL_EXPAND=2;function nullExpand(e,l,t){for(let n,i=0,s=-1;i<l.length;i++){let o=l[i];if(o>s){for(n=o-1;n>=0&&null==e[n];)e[n--]=null;for(n=o+1;n<t&&null==e[n];)e[s=n++]=null}}}function join(e,l){if(allHeadersSame(e)){let l=e[0].slice();for(let t=1;t<e.length;t++)l.push(...e[t].slice(1));return isAsc(l[0])||(l=sortCols(l)),l}let t=new Set;for(let l=0;l<e.length;l++){let n=e[l][0],i=n.length;for(let e=0;e<i;e++)t.add(n[e])}let n=[Array.from(t).sort(((e,l)=>e-l))],i=n[0].length,s=new Map;for(let e=0;e<i;e++)s.set(n[0][e],e);for(let t=0;t<e.length;t++){let o=e[t],r=o[0];for(let e=1;e<o.length;e++){let a=o[e],u=Array(i).fill(void 0),f=l?l[t][e]:1,c=[];for(let e=0;e<a.length;e++){let l=a[e],t=s.get(r[e]);null===l?0!=f&&(u[t]=l,2==f&&c.push(t)):u[t]=l}nullExpand(u,c,i),n.push(u)}}return n}const microTask="undefined"==typeof queueMicrotask?e=>Promise.resolve().then(e):queueMicrotask;function sortCols(e){let l=e[0],t=l.length,n=Array(t);for(let e=0;e<n.length;e++)n[e]=e;n.sort(((e,t)=>l[e]-l[t]));let i=[];for(let l=0;l<e.length;l++){let s=e[l],o=Array(t);for(let e=0;e<t;e++)o[e]=s[n[e]];i.push(o)}return i}function allHeadersSame(e){let l=e[0][0],t=l.length;for(let n=1;n<e.length;n++){let i=e[n][0];if(i.length!=t)return!1;if(i!=l)for(let e=0;e<t;e++)if(i[e]!=l[e])return!1}return!0}function isAsc(e,l=100){const t=e.length;if(t<=1)return!0;let n=0,i=t-1;for(;n<=i&&null==e[n];)n++;for(;i>=n&&null==e[i];)i--;if(i<=n)return!0;const s=max(1,floor((i-n+1)/l));for(let l=e[n],t=n+s;t<=i;t+=s){const n=e[t];if(null!=n){if(n<=l)return!1;l=n}}return!0}const months=["January","February","March","April","May","June","July","August","September","October","November","December"],days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function slice3(e){return e.slice(0,3)}const days3=days.map(slice3),months3=months.map(slice3),engNames={MMMM:months,MMM:months3,WWWW:days,WWW:days3};function zeroPad2(e){return(e<10?"0":"")+e}function zeroPad3(e){return(e<10?"00":e<100?"0":"")+e}const subs={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,l)=>l.MMMM[e.getMonth()],MMM:(e,l)=>l.MMM[e.getMonth()],MM:e=>zeroPad2(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>zeroPad2(e.getDate()),D:e=>e.getDate(),WWWW:(e,l)=>l.WWWW[e.getDay()],WWW:(e,l)=>l.WWW[e.getDay()],HH:e=>zeroPad2(e.getHours()),H:e=>e.getHours(),h:e=>{let l=e.getHours();return 0==l?12:l>12?l-12:l},AA:e=>e.getHours()>=12?"PM":"AM",aa:e=>e.getHours()>=12?"pm":"am",a:e=>e.getHours()>=12?"p":"a",mm:e=>zeroPad2(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>zeroPad2(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>zeroPad3(e.getMilliseconds())};function fmtDate(e,l){l=l||engNames;let t,n=[],i=/\{([a-z]+)\}|[^{]+/gi;for(;t=i.exec(e);)n.push("{"==t[0][0]?subs[t[1]]:t[0]);return e=>{let t="";for(let i=0;i<n.length;i++)t+="string"==typeof n[i]?n[i]:n[i](e,l);return t}}const localTz=(new Intl.DateTimeFormat).resolvedOptions().timeZone;function tzDate(e,l){let t;return"UTC"==l||"Etc/UTC"==l?t=new Date(+e+6e4*e.getTimezoneOffset()):l==localTz?t=e:(t=new Date(e.toLocaleString("en-US",{timeZone:l})),t.setMilliseconds(e.getMilliseconds())),t}const onlyWhole=e=>e%1==0,allMults=[1,2,2.5,5],decIncrs=genIncrs(10,-16,0,allMults),oneIncrs=genIncrs(10,0,16,allMults),wholeIncrs=oneIncrs.filter(onlyWhole),numIncrs=decIncrs.concat(oneIncrs),NL="\n",yyyy="{YYYY}",NLyyyy=NL+yyyy,md="{M}/{D}",NLmd=NL+md,NLmdyy=NLmd+"/{YY}",aa="{aa}",hmm="{h}:{mm}",hmmaa=hmm+aa,NLhmmaa=NL+hmmaa,ss=":{ss}",_=null;function genTimeStuffs(e){let l=1e3*e,t=60*l,n=60*t,i=24*n,s=30*i,o=365*i;return[(1==e?genIncrs(10,0,3,allMults).filter(onlyWhole):genIncrs(10,-3,0,allMults)).concat([l,5*l,10*l,15*l,30*l,t,5*t,10*t,15*t,30*t,n,2*n,3*n,4*n,6*n,8*n,12*n,i,2*i,3*i,4*i,5*i,6*i,7*i,8*i,9*i,10*i,15*i,s,2*s,3*s,4*s,6*s,o,2*o,5*o,10*o,25*o,50*o,100*o]),[[o,yyyy,_,_,_,_,_,_,1],[28*i,"{MMM}",NLyyyy,_,_,_,_,_,1],[i,md,NLyyyy,_,_,_,_,_,1],[n,"{h}"+aa,NLmdyy,_,NLmd,_,_,_,1],[t,hmmaa,NLmdyy,_,NLmd,_,_,_,1],[l,ss,NLmdyy+" "+hmmaa,_,NLmd+" "+hmmaa,_,NLhmmaa,_,1],[e,ss+".{fff}",NLmdyy+" "+hmmaa,_,NLmd+" "+hmmaa,_,NLhmmaa,_,1]],function(l){return(r,a,u,f,c,p)=>{let d=[],m=c>=o,h=c>=s&&c<o,g=l(u),x=roundDec(g*e,3),_=mkDate(g.getFullYear(),m?0:g.getMonth(),h||m?1:g.getDate()),w=roundDec(_*e,3);if(h||m){let t=h?c/s:0,n=m?c/o:0,i=x==w?x:roundDec(mkDate(_.getFullYear()+n,_.getMonth()+t,1)*e,3),r=new Date(round(i/e)),a=r.getFullYear(),u=r.getMonth();for(let s=0;i<=f;s++){let o=mkDate(a+n*s,u+t*s,1),r=o-l(roundDec(o*e,3));i=roundDec((+o+r)*e,3),i<=f&&d.push(i)}}else{let s=c>=i?i:c,o=w+(floor(u)-floor(x))+incrRoundUp(x-w,s);d.push(o);let m=l(o),h=m.getHours()+m.getMinutes()/t+m.getSeconds()/n,g=c/n,_=p/r.axes[a]._space;for(;o=roundDec(o+c,1==e?0:3),!(o>f);)if(g>1){let e=floor(roundDec(h+g,6))%24,t=l(o).getHours()-e;t>1&&(t=-1),o-=t*n,h=(h+g)%24,roundDec((o-d[d.length-1])/c,3)*_>=.7&&d.push(o)}else d.push(o)}return d}}]}const[timeIncrsMs,_timeAxisStampsMs,timeAxisSplitsMs]=genTimeStuffs(1),[timeIncrsS,_timeAxisStampsS,timeAxisSplitsS]=genTimeStuffs(.001);function timeAxisStamps(e,l){return e.map((e=>e.map(((t,n)=>0==n||8==n||null==t?t:l(1==n||0==e[8]?t:e[1]+t)))))}function timeAxisVals(e,l){return(t,n,i,s,o)=>{let r,a,u,f,c,p,d=l.find((e=>o>=e[0]))||l[l.length-1];return n.map((l=>{let t=e(l),n=t.getFullYear(),i=t.getMonth(),s=t.getDate(),o=t.getHours(),m=t.getMinutes(),h=t.getSeconds(),g=n!=r&&d[2]||i!=a&&d[3]||s!=u&&d[4]||o!=f&&d[5]||m!=c&&d[6]||h!=p&&d[7]||d[1];return r=n,a=i,u=s,f=o,c=m,p=h,g(t)}))}}function timeAxisVal(e,l){let t=fmtDate(l);return(l,n,i,s,o)=>n.map((l=>t(e(l))))}function mkDate(e,l,t){return new Date(e,l,t)}function timeSeriesStamp(e,l){return l(e)}genIncrs(2,-53,53,[1]);const _timeSeriesStamp="{YYYY}-{MM}-{DD} {h}:{mm}{aa}";function timeSeriesVal(e,l){return(t,n,i,s)=>null==s?"--":l(e(n))}function legendStroke(e,l){let t=e.series[l];return t.width?t.stroke(e,l):t.points.width?t.points.stroke(e,l):null}function legendFill(e,l){return e.series[l].fill(e,l)}const legendOpts={show:!0,live:!0,isolate:!1,mount:noop,markers:{show:!0,width:2,stroke:legendStroke,fill:legendFill,dash:"solid"},idx:null,idxs:null,values:[]};function cursorPointShow(e,l){let t=e.cursor.points,n=placeDiv(),i=t.size(e,l);setStylePx(n,WIDTH,i),setStylePx(n,HEIGHT,i);let s=i/-2;setStylePx(n,"marginLeft",s),setStylePx(n,"marginTop",s);let o=t.width(e,l,i);return o&&setStylePx(n,"borderWidth",o),n}function cursorPointFill(e,l){let t=e.series[l].points;return t._fill||t._stroke}function cursorPointStroke(e,l){let t=e.series[l].points;return t._stroke||t._fill}function cursorPointSize(e,l){return e.series[l].points.size}const moveTuple=[0,0];function cursorMove(e,l,t){return moveTuple[0]=l,moveTuple[1]=t,moveTuple}function filtBtn0(e,l,t,n=!0){return e=>{0==e.button&&(!n||e.target==l)&&t(e)}}function filtTarg(e,l,t,n=!0){return e=>{(!n||e.target==l)&&t(e)}}const cursorOpts={show:!0,x:!0,y:!0,lock:!1,move:cursorMove,points:{show:cursorPointShow,size:cursorPointSize,width:0,stroke:cursorPointStroke,fill:cursorPointFill},bind:{mousedown:filtBtn0,mouseup:filtBtn0,click:filtBtn0,dblclick:filtBtn0,mousemove:filtTarg,mouseleave:filtTarg,mouseenter:filtTarg},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(e,l)=>{l.stopPropagation(),l.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(e,l,t,n,i)=>n-i,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},axisLines={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},grid=assign({},axisLines,{filter:retArg1}),ticks=assign({},grid,{size:10}),border=assign({},axisLines,{show:!1}),font='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',labelFont="bold "+font,lineGap=1.5,xAxisOpts={show:!0,scale:"x",stroke:"#000",space:50,gap:5,size:50,labelGap:0,labelSize:30,labelFont:labelFont,side:2,grid:grid,ticks:ticks,border:border,font:font,lineGap:1.5,rotate:0},numSeriesLabel="Value",timeSeriesLabel="Time",xSeriesOpts={show:!0,scale:"x",auto:!1,sorted:1,min:inf,max:-inf,idxs:[]};function numAxisVals(e,l,t,n,i){return l.map((e=>null==e?"":fmtNum(e)))}function numAxisSplits(e,l,t,n,i,s,o){let r=[],a=fixedDec.get(i)||0;for(let e=t=o?t:roundDec(incrRoundUp(t,i),a);e<=n;e=roundDec(e+i,a))r.push(Object.is(e,-0)?0:e);return r}function logAxisSplits(e,l,t,n,i,s,o){const r=[],a=e.scales[e.axes[l].scale].log,u=floor((10==a?log10:log2)(t));i=pow(a,u),10==a&&u<0&&(i=roundDec(i,-u));let f=t;do{r.push(f),f+=i,10==a&&(f=roundDec(f,fixedDec.get(i))),f>=i*a&&(i=f)}while(f<=n);return r}function asinhAxisSplits(e,l,t,n,i,s,o){let r=e.scales[e.axes[l].scale].asinh,a=n>r?logAxisSplits(e,l,max(r,t),n,i):[r],u=n>=0&&t<=0?[0]:[];return(t<-r?logAxisSplits(e,l,max(r,-n),-t,i):[r]).reverse().map((e=>-e)).concat(u,a)}const RE_ALL=/./,RE_12357=/[12357]/,RE_125=/[125]/,RE_1=/1/,_filt=(e,l,t,n)=>e.map(((e,i)=>4==l&&0==e||i%n==0&&t.test(e.toExponential()[e<0?1:0])?e:null));function log10AxisValsFilt(e,l,t,n,i){let s=e.axes[t],o=s.scale,r=e.scales[o],a=e.valToPos,u=s._space,f=a(10,o),c=a(9,o)-f>=u?RE_ALL:a(7,o)-f>=u?RE_12357:a(5,o)-f>=u?RE_125:RE_1;if(c==RE_1){let e=abs(a(1,o)-f);if(e<u)return _filt(l.slice().reverse(),r.distr,c,ceil(u/e)).reverse()}return _filt(l,r.distr,c,1)}function log2AxisValsFilt(e,l,t,n,i){let s=e.axes[t],o=s.scale,r=s._space,a=e.valToPos,u=abs(a(1,o)-a(2,o));return u<r?_filt(l.slice().reverse(),3,RE_ALL,ceil(r/u)).reverse():l}function numSeriesVal(e,l,t,n){return null==n?"--":null==l?"":fmtNum(l)}const yAxisOpts={show:!0,scale:"y",stroke:"#000",space:30,gap:5,size:50,labelGap:0,labelSize:30,labelFont:labelFont,side:3,grid:grid,ticks:ticks,border:border,font:font,lineGap:1.5,rotate:0};function ptDia(e,l){return roundDec((3+2*(e||1))*l,3)}function seriesPointsShow(e,l){let{scale:t,idxs:n}=e.series[0],i=e._data[0],s=e.valToPos(i[n[0]],t,!0),o=e.valToPos(i[n[1]],t,!0),r=abs(o-s)/(e.series[l].points.space*pxRatio);return n[1]-n[0]<=r}const facet={scale:null,auto:!0,sorted:0,min:inf,max:-inf},gaps=(e,l,t,n,i)=>i,xySeriesOpts={show:!0,auto:!0,sorted:0,gaps:gaps,alpha:1,facets:[assign({},facet,{scale:"x"}),assign({},facet,{scale:"y"})]},ySeriesOpts={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:gaps,alpha:1,points:{show:seriesPointsShow,filter:null},values:null,min:inf,max:-inf,idxs:[],path:null,clip:null};function clampScale(e,l,t,n,i){return t/10}const xScaleOpts={time:true,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},yScaleOpts=assign({},xScaleOpts,{time:!1,ori:1}),syncs={};function _sync(e,l){let t=syncs[e];return t||(t={key:e,plots:[],sub(e){t.plots.push(e)},unsub(e){t.plots=t.plots.filter((l=>l!=e))},pub(e,l,n,i,s,o,r){for(let a=0;a<t.plots.length;a++)t.plots[a]!=l&&t.plots[a].pub(e,l,n,i,s,o,r)}},null!=e&&(syncs[e]=t)),t}const BAND_CLIP_FILL=1,BAND_CLIP_STROKE=2;function orient(e,l,t){const n=e.mode,i=e.series[l],s=2==n?e._data[l]:e._data,o=e.scales,r=e.bbox;let a=s[0],u=2==n?s[1]:s[l],f=2==n?o[i.facets[0].scale]:o[e.series[0].scale],c=2==n?o[i.facets[1].scale]:o[i.scale],p=r.left,d=r.top,m=r.width,h=r.height,g=e.valToPosH,x=e.valToPosV;return 0==f.ori?t(i,a,u,f,c,g,x,p,d,m,h,moveToH,lineToH,rectH,arcH,bezierCurveToH):t(i,a,u,f,c,x,g,d,p,h,m,moveToV,lineToV,rectV,arcV,bezierCurveToV)}function bandFillClipDirs(e,l){let t=0,n=0,i=ifNull(e.bands,EMPTY_ARR);for(let e=0;e<i.length;e++){let s=i[e];s.series[0]==l?t=s.dir:s.series[1]==l&&(1==s.dir?n|=1:n|=2)}return[t,1==n?-1:2==n?1:3==n?2:0]}function seriesFillTo(e,l,t,n,i){let s=e.mode,o=e.series[l],r=2==s?o.facets[1].scale:o.scale,a=e.scales[r];return-1==i?a.min:1==i?a.max:3==a.distr?1==a.dir?a.min:a.max:0}function clipBandLine(e,l,t,n,i,s){return orient(e,l,((e,l,o,r,a,u,f,c,p,d,m)=>{let h=e.pxRound;const g=r.dir*(0==r.ori?1:-1),x=0==r.ori?lineToH:lineToV;let _,w;1==g?(_=t,w=n):(_=n,w=t);let S=h(u(l[_],r,d,c)),y=h(f(o[_],a,m,p)),T=h(u(l[w],r,d,c)),v=h(f(1==s?a.max:a.min,a,m,p)),b=new Path2D(i);return x(b,T,v),x(b,S,v),x(b,S,y),b}))}function clipGaps(e,l,t,n,i,s){let o=null;if(e.length>0){o=new Path2D;const r=0==l?rectH:rectV;let a=t;for(let l=0;l<e.length;l++){let t=e[l];if(t[1]>t[0]){let e=t[0]-a;e>0&&r(o,a,n,e,n+s),a=t[1]}}let u=t+i-a,f=10;u>0&&r(o,a,n-f/2,u,n+s+f)}return o}function addGap(e,l,t){let n=e[e.length-1];n&&n[0]==l?n[1]=t:e.push([l,t])}function findGaps(e,l,t,n,i,s,o){let r=[],a=e.length;for(let u=1==i?t:n;u>=t&&u<=n;u+=i){if(null===l[u]){let f=u,c=u;if(1==i)for(;++u<=n&&null===l[u];)c=u;else for(;--u>=t&&null===l[u];)c=u;let p=s(e[f]),d=c==f?p:s(e[c]),m=f-i;p=o<=0&&m>=0&&m<a?s(e[m]):p;let h=c+i;d=o>=0&&h>=0&&h<a?s(e[h]):d,d>=p&&r.push([p,d])}}return r}function pxRoundGen(e){return 0==e?retArg0:1==e?round:l=>incrRound(l,e)}function rect(e){let l=0==e?moveToH:moveToV,t=0==e?(e,l,t,n,i,s)=>{e.arcTo(l,t,n,i,s)}:(e,l,t,n,i,s)=>{e.arcTo(t,l,i,n,s)},n=0==e?(e,l,t,n,i)=>{e.rect(l,t,n,i)}:(e,l,t,n,i)=>{e.rect(t,l,i,n)};return(e,i,s,o,r,a=0,u=0)=>{0==a&&0==u?n(e,i,s,o,r):(a=min(a,o/2,r/2),u=min(u,o/2,r/2),l(e,i+a,s),t(e,i+o,s,i+o,s+r,a),t(e,i+o,s+r,i,s+r,u),t(e,i,s+r,i,s,u),t(e,i,s,i+o,s,a),e.closePath())}}const moveToH=(e,l,t)=>{e.moveTo(l,t)},moveToV=(e,l,t)=>{e.moveTo(t,l)},lineToH=(e,l,t)=>{e.lineTo(l,t)},lineToV=(e,l,t)=>{e.lineTo(t,l)},rectH=rect(0),rectV=rect(1),arcH=(e,l,t,n,i,s)=>{e.arc(l,t,n,i,s)},arcV=(e,l,t,n,i,s)=>{e.arc(t,l,n,i,s)},bezierCurveToH=(e,l,t,n,i,s,o)=>{e.bezierCurveTo(l,t,n,i,s,o)},bezierCurveToV=(e,l,t,n,i,s,o)=>{e.bezierCurveTo(t,l,i,n,o,s)};function points(e){return(e,l,t,n,i)=>orient(e,l,((l,s,o,r,a,u,f,c,p,d,m)=>{let h,g,{pxRound:x,points:_}=l;0==r.ori?(h=moveToH,g=arcH):(h=moveToV,g=arcV);const w=roundDec(_.width*pxRatio,3);let S=(_.size-_.width)/2*pxRatio,y=roundDec(2*S,3),T=new Path2D,v=new Path2D,{left:b,top:P,width:D,height:R}=e.bbox;rectH(v,b-y,P-y,D+2*y,R+2*y);const E=e=>{if(null!=o[e]){let l=x(u(s[e],r,d,c)),t=x(f(o[e],a,m,p));h(T,l+S,t),g(T,l,t,S,0,2*PI)}};if(i)i.forEach(E);else for(let e=t;e<=n;e++)E(e);return{stroke:w>0?T:null,fill:T,clip:v,flags:3}}))}function _drawAcc(e){return(l,t,n,i,s,o)=>{n!=i&&(s!=n&&o!=n&&e(l,t,n),s!=i&&o!=i&&e(l,t,i),e(l,t,o))}}const drawAccH=_drawAcc(lineToH),drawAccV=_drawAcc(lineToV);function linear(e){const l=ifNull(e?.alignGaps,0);return(e,t,n,i)=>orient(e,t,((s,o,r,a,u,f,c,p,d,m,h)=>{let g,x,_=s.pxRound,w=e=>_(f(e,a,m,p)),S=e=>_(c(e,u,h,d));0==a.ori?(g=lineToH,x=drawAccH):(g=lineToV,x=drawAccV);const y=a.dir*(0==a.ori?1:-1),T={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:1},v=T.stroke;let b,P,D,R=inf,E=-inf,O=w(o[1==y?n:i]),k=nonNullIdx(r,n,i,1*y),A=nonNullIdx(r,n,i,-1*y),N=w(o[k]),M=w(o[A]),L=!1;for(let e=1==y?n:i;e>=n&&e<=i;e+=y){let l=w(o[e]),t=r[e];l==O?null!=t?(P=S(t),R==inf&&(g(v,l,P),b=P),R=min(P,R),E=max(P,E)):null===t&&(L=!0):(R!=inf&&(x(v,O,R,E,b,P),D=O),null!=t?(P=S(t),g(v,l,P),R=E=b=P):(R=inf,E=-inf,null===t&&(L=!0)),O=l)}R!=inf&&R!=E&&D!=O&&x(v,O,R,E,b,P);let[I,C]=bandFillClipDirs(e,t);if(null!=s.fill||0!=I){let l=T.fill=new Path2D(v),n=S(s.fillTo(e,t,s.min,s.max,I));g(l,M,n),g(l,N,n)}if(!s.spanGaps){let u=[];L&&u.push(...findGaps(o,r,n,i,y,w,l)),T.gaps=u=s.gaps(e,t,n,i,u),T.clip=clipGaps(u,a.ori,p,d,m,h)}return 0!=C&&(T.band=2==C?[clipBandLine(e,t,n,i,v,-1),clipBandLine(e,t,n,i,v,1)]:clipBandLine(e,t,n,i,v,C)),T}))}function stepped(e){const l=ifNull(e.align,1),t=ifNull(e.ascDesc,!1),n=ifNull(e.alignGaps,0),i=ifNull(e.extend,!1);return(e,s,o,r)=>orient(e,s,((a,u,f,c,p,d,m,h,g,x,_)=>{let w=a.pxRound,{left:S,width:y}=e.bbox,T=e=>w(d(e,c,x,h)),v=e=>w(m(e,p,_,g)),b=0==c.ori?lineToH:lineToV;const P={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:1},D=P.stroke,R=c.dir*(0==c.ori?1:-1);o=nonNullIdx(f,o,r,1),r=nonNullIdx(f,o,r,-1);let E=v(f[1==R?o:r]),O=T(u[1==R?o:r]),k=O,A=O;i&&-1==l&&(A=S,b(D,A,E)),b(D,O,E);for(let e=1==R?o:r;e>=o&&e<=r;e+=R){let t=f[e];if(null==t)continue;let n=T(u[e]),i=v(t);1==l?b(D,n,E):b(D,k,i),b(D,n,i),E=i,k=n}let N=k;i&&1==l&&(N=S+y,b(D,N,E));let[M,L]=bandFillClipDirs(e,s);if(null!=a.fill||0!=M){let l=P.fill=new Path2D(D),t=v(a.fillTo(e,s,a.min,a.max,M));b(l,N,t),b(l,A,t)}if(!a.spanGaps){let i=[];i.push(...findGaps(u,f,o,r,R,T,n));let p=a.width*pxRatio/2,d=t||1==l?p:-p,m=t||-1==l?-p:p;i.forEach((e=>{e[0]+=d,e[1]+=m})),P.gaps=i=a.gaps(e,s,o,r,i),P.clip=clipGaps(i,c.ori,h,g,x,_)}return 0!=L&&(P.band=2==L?[clipBandLine(e,s,o,r,D,-1),clipBandLine(e,s,o,r,D,1)]:clipBandLine(e,s,o,r,D,L)),P}))}function findColWidth(e,l,t,n,i,s,o=inf){if(e.length>1){let r=null;for(let a=0,u=1/0;a<e.length;a++)if(void 0!==l[a]){if(null!=r){let l=abs(e[a]-e[r]);l<u&&(u=l,o=abs(t(e[a],n,i,s)-t(e[r],n,i,s)))}r=a}}return o}function bars(e){const l=ifNull((e=e||EMPTY_OBJ).size,[.6,inf,1]),t=e.align||0,n=e.gap||0;let i=e.radius;i=null==i?[0,0]:"number"==typeof i?[i,0]:i;const s=fnOrSelf(i),o=1-l[0],r=ifNull(l[1],inf),a=ifNull(l[2],1),u=ifNull(e.disp,EMPTY_OBJ),f=ifNull(e.each,(e=>{})),{fill:c,stroke:p}=u;return(e,l,i,d)=>orient(e,l,((m,h,g,x,_,w,S,y,T,v,b)=>{let P,D,R=m.pxRound,E=t,O=n*pxRatio,k=r*pxRatio,A=a*pxRatio;0==x.ori?[P,D]=s(e,l):[D,P]=s(e,l);const N=x.dir*(0==x.ori?1:-1);let M,L,I,C=0==x.ori?rectH:rectV,F=0==x.ori?f:(e,l,t,n,i,s,o)=>{f(e,l,t,i,n,o,s)},z=ifNull(e.bands,EMPTY_ARR).find((e=>e.series[0]==l)),H=null!=z?z.dir:0,V=m.fillTo(e,l,m.min,m.max,H),G=R(S(V,_,b,T)),Y=v,W=R(m.width*pxRatio),B=!1,U=null,q=null,j=null,X=null;null==c||0!=W&&null==p||(B=!0,U=c.values(e,l,i,d),q=new Map,new Set(U).forEach((e=>{null!=e&&q.set(e,new Path2D)})),W>0&&(j=p.values(e,l,i,d),X=new Map,new Set(j).forEach((e=>{null!=e&&X.set(e,new Path2D)}))));let{x0:J,size:K}=u;if(null!=J&&null!=K){E=1,h=J.values(e,l,i,d),2==J.unit&&(h=h.map((l=>e.posToVal(y+l*v,x.key,!0))));let t=K.values(e,l,i,d);L=2==K.unit?t[0]*v:w(t[0],x,v,y)-w(0,x,v,y),Y=findColWidth(h,g,w,x,v,y,Y),I=Y-L+O}else{Y=findColWidth(h,g,w,x,v,y,Y),I=Y*o+O,L=Y-I}I<1&&(I=0),W>=L/2&&(W=0),I<5&&(R=retArg0);let Z=I>0;L=R(clamp(Y-I-(Z?W:0),A,k)),M=(0==E?L/2:E==N?0:L)-E*N*((0==E?O/2:0)+(Z?W/2:0));const $={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},Q=B?null:new Path2D;let ee=null;if(null!=z)ee=e.data[z.series[1]];else{let{y0:t,y1:n}=u;null!=t&&null!=n&&(g=n.values(e,l,i,d),ee=t.values(e,l,i,d))}let le=P*L,te=D*L;for(let t=1==N?i:d;t>=i&&t<=d;t+=N){let n=g[t];if(null==n)continue;if(null!=ee){let e=ee[t]??0;if(n-e==0)continue;G=S(e,_,b,T)}let i=w(2!=x.distr||null!=u?h[t]:t,x,v,y),s=S(ifNull(n,V),_,b,T),o=R(i-M),r=R(max(s,G)),a=R(min(s,G)),f=r-a;if(null!=n){let i=n<0?te:le,s=n<0?le:te;B?(W>0&&null!=j[t]&&C(X.get(j[t]),o,a+floor(W/2),L,max(0,f-W),i,s),null!=U[t]&&C(q.get(U[t]),o,a+floor(W/2),L,max(0,f-W),i,s)):C(Q,o,a+floor(W/2),L,max(0,f-W),i,s),F(e,l,t,o-W/2,a,L+W,f)}}return W>0?$.stroke=B?X:Q:B||($._fill=0==m.width?m._fill:m._stroke??m._fill,$.width=0),$.fill=B?q:Q,$}))}function splineInterp(e,l){const t=ifNull(l?.alignGaps,0);return(l,n,i,s)=>orient(l,n,((o,r,a,u,f,c,p,d,m,h,g)=>{let x,_,w,S=o.pxRound,y=e=>S(c(e,u,h,d)),T=e=>S(p(e,f,g,m));0==u.ori?(x=moveToH,w=lineToH,_=bezierCurveToH):(x=moveToV,w=lineToV,_=bezierCurveToV);const v=u.dir*(0==u.ori?1:-1);i=nonNullIdx(a,i,s,1),s=nonNullIdx(a,i,s,-1);let b=y(r[1==v?i:s]),P=b,D=[],R=[];for(let e=1==v?i:s;e>=i&&e<=s;e+=v){if(null!=a[e]){let l=y(r[e]);D.push(P=l),R.push(T(a[e]))}}const E={stroke:e(D,R,x,w,_,S),fill:null,clip:null,band:null,gaps:null,flags:1},O=E.stroke;let[k,A]=bandFillClipDirs(l,n);if(null!=o.fill||0!=k){let e=E.fill=new Path2D(O),t=T(o.fillTo(l,n,o.min,o.max,k));w(e,P,t),w(e,b,t)}if(!o.spanGaps){let e=[];e.push(...findGaps(r,a,i,s,v,y,t)),E.gaps=e=o.gaps(l,n,i,s,e),E.clip=clipGaps(e,u.ori,d,m,h,g)}return 0!=A&&(E.band=2==A?[clipBandLine(l,n,i,s,O,-1),clipBandLine(l,n,i,s,O,1)]:clipBandLine(l,n,i,s,O,A)),E}))}function monotoneCubic(e){return splineInterp(_monotoneCubic,e)}function _monotoneCubic(e,l,t,n,i,s){const o=e.length;if(o<2)return null;const r=new Path2D;if(t(r,e[0],l[0]),2==o)n(r,e[1],l[1]);else{let t=Array(o),n=Array(o-1),s=Array(o-1),a=Array(o-1);for(let t=0;t<o-1;t++)s[t]=l[t+1]-l[t],a[t]=e[t+1]-e[t],n[t]=s[t]/a[t];t[0]=n[0];for(let e=1;e<o-1;e++)0===n[e]||0===n[e-1]||n[e-1]>0!=n[e]>0?t[e]=0:(t[e]=3*(a[e-1]+a[e])/((2*a[e]+a[e-1])/n[e-1]+(a[e]+2*a[e-1])/n[e]),isFinite(t[e])||(t[e]=0));t[o-1]=n[o-2];for(let n=0;n<o-1;n++)i(r,e[n]+a[n]/3,l[n]+t[n]*a[n]/3,e[n+1]-a[n]/3,l[n+1]-t[n+1]*a[n]/3,e[n+1],l[n+1])}return r}const cursorPlots=new Set;function invalidateRects(){for(let e of cursorPlots)e.syncRect(!0)}domEnv&&(on(resize,win,invalidateRects),on(scroll,win,invalidateRects,!0),on(dppxchange,win,(()=>{uPlot.pxRatio=pxRatio})));const linearPath=linear(),pointsPath=points();function setDefaults(e,l,t,n){return(n?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map(((e,n)=>setDefault(e,n,l,t)))}function setDefaults2(e,l){return e.map(((e,t)=>0==t?null:assign({},l,e)))}function setDefault(e,l,t,n){return assign({},0==l?t:n,e)}function snapNumX(e,l,t){return null==l?nullNullTuple:[l,t]}const snapTimeX=snapNumX;function snapNumY(e,l,t){return null==l?nullNullTuple:rangeNum(l,t,.1,!0)}function snapLogY(e,l,t,n){return null==l?nullNullTuple:rangeLog(l,t,e.scales[n].log,!1)}const snapLogX=snapLogY;function snapAsinhY(e,l,t,n){return null==l?nullNullTuple:rangeAsinh(l,t,e.scales[n].log,!1)}const snapAsinhX=snapAsinhY;function findIncr(e,l,t,n,i){let s=max(numIntDigits(e),numIntDigits(l)),o=l-e,r=closestIdx(i/n*o,t);do{let e=t[r],l=n*e/o;if(l>=i&&s+(e<5?fixedDec.get(e):0)<=17)return[e,l]}while(++r<t.length);return[0,0]}function pxRatioFont(e){let l,t;return[e=e.replace(/(\d+)px/,((e,n)=>(l=round((t=+n)*pxRatio))+"px")),l,t]}function syncFontSize(e){e.show&&[e.font,e.labelFont].forEach((e=>{let l=roundDec(e[2]*pxRatio,1);e[0]=e[0].replace(/[0-9.]+px/,l+"px"),e[1]=l}))}function uPlot(e,l,t){const n={mode:ifNull(e.mode,1)},i=n.mode;function s(e,l){return((3==l.distr?log10(e>0?e:l.clamp(n,e,l.min,l.max,l.key)):4==l.distr?asinh(e,l.asinh):e)-l._min)/(l._max-l._min)}function o(e,l,t,n){let i=s(e,l);return n+t*(-1==l.dir?1-i:i)}function r(e,l,t,n){let i=s(e,l);return n+t*(-1==l.dir?i:1-i)}function a(e,l,t,n){return 0==l.ori?o(e,l,t,n):r(e,l,t,n)}n.valToPosH=o,n.valToPosV=r;let u=!1;n.status=0;const f=n.root=placeDiv(UPLOT);if(null!=e.id&&(f.id=e.id),addClass(f,e.class),e.title){placeDiv(TITLE,f).textContent=e.title}const c=placeTag("canvas"),p=n.ctx=c.getContext("2d"),d=placeDiv(WRAP,f);on("click",d,(e=>{if(e.target===h){(Pl!=yl||Dl!=Tl)&&Il.click(n,e)}}),!0);const m=n.under=placeDiv(UNDER,d);d.appendChild(c);const h=n.over=placeDiv(OVER,d),g=+ifNull((e=copy(e)).pxAlign,1),x=pxRoundGen(g);(e.plugins||[]).forEach((l=>{l.opts&&(e=l.opts(n,e)||e)}));const _=e.ms||.001,w=n.series=1==i?setDefaults(e.series||[],xSeriesOpts,ySeriesOpts,!1):setDefaults2(e.series||[null],xySeriesOpts),S=n.axes=setDefaults(e.axes||[],xAxisOpts,yAxisOpts,!0),y=n.scales={},T=n.bands=e.bands||[];T.forEach((e=>{e.fill=fnOrSelf(e.fill||null),e.dir=ifNull(e.dir,-1)}));const v=2==i?w[1].facets[0].scale:w[0].scale,b={axes:function(){for(let e=0;e<S.length;e++){let l=S[e];if(!l.show||!l._show)continue;let t,i,s=l.side,o=s%2,r=l.stroke(n,e),u=0==s||3==s?-1:1;if(l.label){let e=l.labelGap*u,n=round((l._lpos+e)*pxRatio);tl(l.labelFont[0],r,"center",2==s?TOP:BOTTOM),p.save(),1==o?(t=i=0,p.translate(n,round(pe+me/2)),p.rotate((3==s?-PI:PI)/2)):(t=round(ce+de/2),i=n),p.fillText(l.label,t,i),p.restore()}let[f,c]=l._found;if(0==c)continue;let d=y[l.scale],m=0==o?de:me,h=0==o?ce:pe,g=round(l.gap*pxRatio),_=l._splits,w=2==d.distr?_.map((e=>Ze[e])):_,T=2==d.distr?Ze[_[1]]-Ze[_[0]]:f,v=l.ticks,b=l.border,P=v.show?round(v.size*pxRatio):0,D=l._rotate*-PI/180,R=x(l._pos*pxRatio),E=R+(P+g)*u;i=0==o?E:0,t=1==o?E:0,tl(l.font[0],r,1==l.align?LEFT:2==l.align?RIGHT:D>0?LEFT:D<0?RIGHT:0==o?"center":3==s?RIGHT:LEFT,D||1==o?"middle":2==s?TOP:BOTTOM);let O=l.font[1]*l.lineGap,k=_.map((e=>x(a(e,d,m,h)))),A=l._values;for(let e=0;e<A.length;e++){let l=A[e];if(null!=l){0==o?t=k[e]:i=k[e],l=""+l;let n=-1==l.indexOf("\n")?[l]:l.split(/\n/gm);for(let e=0;e<n.length;e++){let l=n[e];D?(p.save(),p.translate(t,i+e*O),p.rotate(D),p.fillText(l,0,0),p.restore()):p.fillText(l,t,i+e*O)}}}v.show&&cl(k,v.filter(n,w,e,c,T),o,s,R,P,roundDec(v.width*pxRatio,3),v.stroke(n,e),v.dash,v.cap);let N=l.grid;N.show&&cl(k,N.filter(n,w,e,c,T),o,0==o?2:1,0==o?pe:ce,0==o?me:de,roundDec(N.width*pxRatio,3),N.stroke(n,e),N.dash,N.cap),b.show&&cl([R],[1],0==o?1:0,0==o?1:2,1==o?pe:ce,1==o?me:de,roundDec(b.width*pxRatio,3),b.stroke(n,e),b.dash,b.cap)}xt("drawAxes")},series:function(){Fe>0&&(w.forEach(((e,t)=>{if(t>0&&e.show&&(sl(t,!1),sl(t,!0),null==e._paths)){Ke!=e.alpha&&(p.globalAlpha=Ke=e.alpha);let s=2==i?[0,l[t][0].length-1]:function(e){let l=clamp(ze-1,0,Fe-1),t=clamp(He+1,0,Fe-1);for(;null==e[l]&&l>0;)l--;for(;null==e[t]&&t<Fe-1;)t++;return[l,t]}(l[t]);e._paths=e.paths(n,t,s[0],s[1]),1!=Ke&&(p.globalAlpha=Ke=1)}})),w.forEach(((e,l)=>{if(l>0&&e.show){Ke!=e.alpha&&(p.globalAlpha=Ke=e.alpha),null!=e._paths&&ol(l,!1);{let t=null!=e._paths?e._paths.gaps:null,i=e.points.show(n,l,ze,He,t),s=e.points.filter(n,l,i,t);(i||s)&&(e.points._paths=e.points.paths(n,l,ze,He,s),ol(l,!0))}1!=Ke&&(p.globalAlpha=Ke=1),xt("drawSeries",l)}})))}},P=(e.drawOrder||["axes","series"]).map((e=>b[e]));function D(l){let t=y[l];if(null==t){let n=(e.scales||EMPTY_OBJ)[l]||EMPTY_OBJ;if(null!=n.from)D(n.from),y[l]=assign({},y[n.from],n,{key:l});else{t=y[l]=assign({},l==v?xScaleOpts:yScaleOpts,n),t.key=l;let e=t.time,s=t.range,o=isArr(s);if((l!=v||2==i&&!e)&&(!o||null!=s[0]&&null!=s[1]||(s={min:null==s[0]?autoRangePart:{mode:1,hard:s[0],soft:s[0]},max:null==s[1]?autoRangePart:{mode:1,hard:s[1],soft:s[1]}},o=!1),!o&&isObj(s))){let e=s;s=(l,t,n)=>null==t?nullNullTuple:rangeNum(t,n,e)}t.range=fnOrSelf(s||(e?snapTimeX:l==v?3==t.distr?snapLogX:4==t.distr?snapAsinhX:snapNumX:3==t.distr?snapLogY:4==t.distr?snapAsinhY:snapNumY)),t.auto=fnOrSelf(!o&&t.auto),t.clamp=fnOrSelf(t.clamp||clampScale),t._min=t._max=null}}}D("x"),D("y"),1==i&&w.forEach((e=>{D(e.scale)})),S.forEach((e=>{D(e.scale)}));for(let l in e.scales)D(l);const R=y[v],E=R.distr;let O,k;0==R.ori?(addClass(f,"u-hz"),O=o,k=r):(addClass(f,"u-vt"),O=r,k=o);const A={};for(let e in y){let l=y[e];null==l.min&&null==l.max||(A[e]={min:l.min,max:l.max},l.min=l.max=null)}const N=e.tzDate||(e=>new Date(round(e/_))),M=e.fmtDate||fmtDate,L=1==_?timeAxisSplitsMs(N):timeAxisSplitsS(N),I=timeAxisVals(N,timeAxisStamps(1==_?_timeAxisStampsMs:_timeAxisStampsS,M)),C=timeSeriesVal(N,timeSeriesStamp(_timeSeriesStamp,M)),F=[],z=n.legend=assign({},legendOpts,e.legend),H=z.show,V=z.markers;let G,Y,W;z.idxs=F,V.width=fnOrSelf(V.width),V.dash=fnOrSelf(V.dash),V.stroke=fnOrSelf(V.stroke),V.fill=fnOrSelf(V.fill);let B,U=[],q=[],j=!1,X={};if(z.live){const e=w[1]?w[1].values:null;j=null!=e,B=j?e(n,1,0):{_:0};for(let e in B)X[e]="--"}if(H)if(G=placeTag("table",LEGEND,f),W=placeTag("tbody",null,G),z.mount(n,G),j){Y=placeTag("thead",null,G,W);let e=placeTag("tr",null,Y);for(var J in placeTag("th",null,e),B)placeTag("th","u-label",e).textContent=J}else addClass(G,"u-inline"),z.live&&addClass(G,"u-live");const K={show:!0},Z={show:!1};const $=new Map;function Q(e,l,t,i=!0){const s=$.get(l)||{},o=be.bind[e](n,l,t,i);o&&(on(e,l,s[e]=o),$.set(l,s))}function ee(e,l,t){const n=$.get(l)||{};for(let t in n)null!=e&&t!=e||(off(t,l,n[t]),delete n[t]);null==e&&$.delete(l)}let le=0,te=0,ne=0,ie=0,se=0,oe=0,re=se,ae=oe,ue=ne,fe=ie,ce=0,pe=0,de=0,me=0;n.bbox={};let he=!1,ge=!1,xe=!1,_e=!1,we=!1,Se=!1;function ye(e,l,t){(t||e!=n.width||l!=n.height)&&Te(e,l),ml(!1),xe=!0,ge=!0,Al()}function Te(e,l){n.width=le=ne=e,n.height=te=ie=l,se=oe=0,function(){let e=!1,l=!1,t=!1,n=!1;S.forEach(((i,s)=>{if(i.show&&i._show){let{side:s,_size:o}=i,r=s%2,a=o+(null!=i.label?i.labelSize:0);a>0&&(r?(ne-=a,3==s?(se+=a,n=!0):t=!0):(ie-=a,0==s?(oe+=a,e=!0):l=!0))}})),Me[0]=e,Me[1]=t,Me[2]=l,Me[3]=n,ne-=Ce[1]+Ce[3],se+=Ce[3],ie-=Ce[2]+Ce[0],oe+=Ce[0]}(),function(){let e=se+ne,l=oe+ie,t=se,n=oe;function i(i,s){switch(i){case 1:return e+=s,e-s;case 2:return l+=s,l-s;case 3:return t-=s,t+s;case 0:return n-=s,n+s}}S.forEach(((e,l)=>{if(e.show&&e._show){let l=e.side;e._pos=i(l,e._size),null!=e.label&&(e._lpos=i(l,e.labelSize))}}))}();let t=n.bbox;ce=t.left=incrRound(se*pxRatio,.5),pe=t.top=incrRound(oe*pxRatio,.5),de=t.width=incrRound(ne*pxRatio,.5),me=t.height=incrRound(ie*pxRatio,.5)}const ve=3;n.setSize=function({width:e,height:l}){ye(e,l)};const be=n.cursor=assign({},cursorOpts,{drag:{y:2==i}},e.cursor);if(null==be.dataIdx){let e=be.hover,t=e.skip=new Set(e.skip??[]);t.add(void 0);let n=e.prox=fnOrSelf(e.prox),i=e.bias??=0;be.dataIdx=(e,s,o,r)=>{if(0==s)return o;let a=o,u=n(e,s,o,r)??inf,f=u>=0&&u<inf,c=0==R.ori?ne:ie,p=be.left,d=l[0],m=l[s];if(t.has(m[o])){a=null;let e,l=null,n=null;if(0==i||-1==i)for(e=o;null==l&&e-- >0;)t.has(m[e])||(l=e);if(0==i||1==i)for(e=o;null==n&&e++<m.length;)t.has(m[e])||(n=e);if(null!=l||null!=n)if(f){let e=p-(null==l?-1/0:O(d[l],R,c,0)),t=(null==n?1/0:O(d[n],R,c,0))-p;e<=t?e<=u&&(a=l):t<=u&&(a=n)}else a=null==n?l:null==l?n:o-l<=n-o?l:n}else if(f){abs(p-O(d[o],R,c,0))>u&&(a=null)}return a}}const Pe=e=>{be.event=e};be.idxs=F,be._lock=!1;let De=be.points;De.show=fnOrSelf(De.show),De.size=fnOrSelf(De.size),De.stroke=fnOrSelf(De.stroke),De.width=fnOrSelf(De.width),De.fill=fnOrSelf(De.fill);const Re=n.focus=assign({},e.focus||{alpha:.3},be.focus),Ee=Re.prox>=0;let Oe=[null],ke=[null],Ae=[null];function Ne(e,l){if(1==i||l>0){let l=1==i&&y[e.scale].time,t=e.value;e.value=l?isStr(t)?timeSeriesVal(N,timeSeriesStamp(t,M)):t||C:t||numSeriesVal,e.label=e.label||(l?"Time":"Value")}if(l>0){e.width=null==e.width?1:e.width,e.paths=e.paths||linearPath||retNull,e.fillTo=fnOrSelf(e.fillTo||seriesFillTo),e.pxAlign=+ifNull(e.pxAlign,g),e.pxRound=pxRoundGen(e.pxAlign),e.stroke=fnOrSelf(e.stroke||null),e.fill=fnOrSelf(e.fill||null),e._stroke=e._fill=e._paths=e._focus=null;let l=ptDia(max(1,e.width),1),t=e.points=assign({},{size:l,width:max(1,.2*l),stroke:e.stroke,space:2*l,paths:pointsPath,_stroke:null,_fill:null},e.points);t.show=fnOrSelf(t.show),t.filter=fnOrSelf(t.filter),t.fill=fnOrSelf(t.fill),t.stroke=fnOrSelf(t.stroke),t.paths=fnOrSelf(t.paths),t.pxAlign=e.pxAlign}if(H){let t=function(e,l){if(0==l&&(j||!z.live||2==i))return nullNullTuple;let t=[],s=placeTag("tr","u-series",W,W.childNodes[l]);addClass(s,e.class),e.show||addClass(s,OFF);let o=placeTag("th",null,s);if(V.show){let e=placeDiv("u-marker",o);if(l>0){let t=V.width(n,l);t&&(e.style.border=t+"px "+V.dash(n,l)+" "+V.stroke(n,l)),e.style.background=V.fill(n,l)}}let r=placeDiv("u-label",o);for(var a in r.textContent=e.label,l>0&&(V.show||(r.style.color=e.width>0?V.stroke(n,l):V.fill(n,l)),Q("click",o,(l=>{if(be._lock)return;Pe(l);let t=w.indexOf(e);if((l.ctrlKey||l.metaKey)!=z.isolate){let e=w.some(((e,l)=>l>0&&l!=t&&e.show));w.forEach(((l,n)=>{n>0&&Yl(n,e?n==t?K:Z:K,!0,wt.setSeries)}))}else Yl(t,{show:!e.show},!0,wt.setSeries)}),!1),Ee&&Q(mouseenter,o,(l=>{be._lock||(Pe(l),Yl(w.indexOf(e),ql,!0,wt.setSeries))}),!1)),B){let e=placeTag("td","u-value",s);e.textContent="--",t.push(e)}return[s,t]}(e,l);U.splice(l,0,t[0]),q.splice(l,0,t[1]),z.values.push(null)}if(be.show){F.splice(l,0,null);let t=function(e,l){if(l>0){let t=be.points.show(n,l);if(t)return addClass(t,CURSOR_PT),addClass(t,e.class),elTrans(t,-10,-10,ne,ie),h.insertBefore(t,Oe[l]),t}}(e,l);null!=t&&(Oe.splice(l,0,t),ke.splice(l,0,0),Ae.splice(l,0,0))}xt("addSeries",l)}n.addSeries=function(e,l){l=null==l?w.length:l,e=1==i?setDefault(e,l,xSeriesOpts,ySeriesOpts):setDefault(e,l,null,xySeriesOpts),w.splice(l,0,e),Ne(w[l],l)},n.delSeries=function(e){if(w.splice(e,1),H){z.values.splice(e,1),q.splice(e,1);let l=U.splice(e,1)[0];ee(null,l.firstChild),l.remove()}be.show&&(F.splice(e,1),Oe.length>1&&(Oe.splice(e,1)[0].remove(),ke.splice(e,1),Ae.splice(e,1))),xt("delSeries",e)};const Me=[!1,!1,!1,!1];function Le(e,l,t,n){let[i,s,o,r]=t,a=l%2,u=0;return 0==a&&(r||s)&&(u=0==l&&!i||2==l&&!o?round(xAxisOpts.size/3):0),1==a&&(i||o)&&(u=1==l&&!s||3==l&&!r?round(yAxisOpts.size/2):0),u}const Ie=n.padding=(e.padding||[Le,Le,Le,Le]).map((e=>fnOrSelf(ifNull(e,Le)))),Ce=n._padding=Ie.map(((e,l)=>e(n,l,Me,0)));let Fe,ze=null,He=null;const Ve=1==i?w[0].idxs:null;let Ge,Ye,We,Be,Ue,qe,je,Xe,Je,Ke,Ze=null,$e=!1;function Qe(e,t){if(l=null==e?[]:e,n.data=n._data=l,2==i){Fe=0;for(let e=1;e<w.length;e++)Fe+=l[e][0].length}else{0==l.length&&(n.data=n._data=l=[[]]),Ze=l[0],Fe=Ze.length;let e=l;if(2==E){e=l.slice();let t=e[0]=Array(Fe);for(let e=0;e<Fe;e++)t[e]=e}n._data=l=e}if(ml(!0),xt("setData"),2==E&&(xe=!0),!1!==t){let e=R;e.auto(n,$e)?el():Gl(v,e.min,e.max),_e=_e||be.left>=0,Se=!0,Al()}}function el(){let e,t;$e=!0,1==i&&(Fe>0?(ze=Ve[0]=0,He=Ve[1]=Fe-1,e=l[0][ze],t=l[0][He],2==E?(e=ze,t=He):e==t&&(3==E?[e,t]=rangeLog(e,e,R.log,!1):4==E?[e,t]=rangeAsinh(e,e,R.log,!1):R.time?t=e+round(86400/_):[e,t]=rangeNum(e,t,.1,!0))):(ze=Ve[0]=e=null,He=Ve[1]=t=null)),Gl(v,e,t)}function ll(e,l,t,n,i,s){e??="#0000",t??=EMPTY_ARR,n??="butt",i??="#0000",s??="round",e!=Ge&&(p.strokeStyle=Ge=e),i!=Ye&&(p.fillStyle=Ye=i),l!=We&&(p.lineWidth=We=l),s!=Ue&&(p.lineJoin=Ue=s),n!=qe&&(p.lineCap=qe=n),t!=Be&&p.setLineDash(Be=t)}function tl(e,l,t,n){l!=Ye&&(p.fillStyle=Ye=l),e!=je&&(p.font=je=e),t!=Xe&&(p.textAlign=Xe=t),n!=Je&&(p.textBaseline=Je=n)}function nl(e,l,t,i,s=0){if(i.length>0&&e.auto(n,$e)&&(null==l||null==l.min)){let l=ifNull(ze,0),n=ifNull(He,i.length-1),o=null==t.min?3==e.distr?getMinMaxLog(i,l,n):getMinMax(i,l,n,s):[t.min,t.max];e.min=min(e.min,t.min=o[0]),e.max=max(e.max,t.max=o[1])}}n.setData=Qe;const il={min:null,max:null};function sl(e,l){let t=l?w[e].points:w[e];t._stroke=t.stroke(n,e),t._fill=t.fill(n,e)}function ol(e,t){let i=t?w[e].points:w[e],{stroke:s,fill:o,clip:r,flags:a,_stroke:u=i._stroke,_fill:f=i._fill,_width:c=i.width}=i._paths;c=roundDec(c*pxRatio,3);let d=null,m=c%2/2;t&&null==f&&(f=c>0?"#fff":u);let h=1==i.pxAlign&&m>0;if(h&&p.translate(m,m),!t){let e=ce-c/2,l=pe-c/2,t=de+c,n=me+c;d=new Path2D,d.rect(e,l,t,n)}t?al(u,c,i.dash,i.cap,f,s,o,a,r):function(e,t,i,s,o,r,a,u,f,c,p){let d=!1;0!=f&&T.forEach(((m,h)=>{if(m.series[0]==e){let e,g=w[m.series[1]],x=l[m.series[1]],_=(g._paths||EMPTY_OBJ).band;isArr(_)&&(_=1==m.dir?_[0]:_[1]);let S=null;g.show&&_&&hasData(x,ze,He)?(S=m.fill(n,h)||r,e=g._paths.clip):_=null,al(t,i,s,o,S,a,u,f,c,p,e,_),d=!0}})),d||al(t,i,s,o,r,a,u,f,c,p)}(e,u,c,i.dash,i.cap,f,s,o,a,d,r),h&&p.translate(-m,-m)}const rl=3;function al(e,l,t,n,i,s,o,r,a,u,f,c){ll(e,l,t,n,i),(a||u||c)&&(p.save(),a&&p.clip(a),u&&p.clip(u)),c?(r&rl)==rl?(p.clip(c),f&&p.clip(f),fl(i,o),ul(e,s,l)):2&r?(fl(i,o),p.clip(c),ul(e,s,l)):1&r&&(p.save(),p.clip(c),f&&p.clip(f),fl(i,o),p.restore(),ul(e,s,l)):(fl(i,o),ul(e,s,l)),(a||u||c)&&p.restore()}function ul(e,l,t){t>0&&(l instanceof Map?l.forEach(((e,l)=>{p.strokeStyle=Ge=l,p.stroke(e)})):null!=l&&e&&p.stroke(l))}function fl(e,l){l instanceof Map?l.forEach(((e,l)=>{p.fillStyle=Ye=l,p.fill(e)})):null!=l&&e&&p.fill(l)}function cl(e,l,t,n,i,s,o,r,a,u){let f=o%2/2;1==g&&p.translate(f,f),ll(r,o,a,u,r),p.beginPath();let c,d,m,h,x=i+(0==n||3==n?-s:s);0==t?(d=i,h=x):(c=i,m=x);for(let n=0;n<e.length;n++)null!=l[n]&&(0==t?c=m=e[n]:d=h=e[n],p.moveTo(c,d),p.lineTo(m,h));p.stroke(),1==g&&p.translate(-f,-f)}function pl(e){let l=!0;return S.forEach(((t,i)=>{if(!t.show)return;let s=y[t.scale];if(null==s.min)return void(t._show&&(l=!1,t._show=!1,ml(!1)));t._show||(l=!1,t._show=!0,ml(!1));let o=t.side,r=o%2,{min:a,max:u}=s,[f,c]=function(e,l,t,i){let s,o=S[e];if(i<=0)s=[0,0];else{let r=o._space=o.space(n,e,l,t,i);s=findIncr(l,t,o._incrs=o.incrs(n,e,l,t,i,r),i,r)}return o._found=s}(i,a,u,0==r?ne:ie);if(0==c)return;let p=2==s.distr,d=t._splits=t.splits(n,i,a,u,f,c,p),m=2==s.distr?d.map((e=>Ze[e])):d,h=2==s.distr?Ze[d[1]]-Ze[d[0]]:f,g=t._values=t.values(n,t.filter(n,m,i,c,h),i,c,h);t._rotate=2==o?t.rotate(n,g,i,c):0;let x=t._size;t._size=ceil(t.size(n,g,i,e)),null!=x&&t._size!=x&&(l=!1)})),l}function dl(e){let l=!0;return Ie.forEach(((t,i)=>{let s=t(n,i,Me,e);s!=Ce[i]&&(l=!1),Ce[i]=s})),l}function ml(e){w.forEach(((l,t)=>{t>0&&(l._paths=null,e&&(1==i?(l.min=null,l.max=null):l.facets.forEach((e=>{e.min=null,e.max=null}))))}))}let hl,gl,xl,_l,wl,Sl,yl,Tl,vl,bl,Pl,Dl,Rl=!1,El=!1,Ol=[];function kl(){El=!1;for(let e=0;e<Ol.length;e++)xt(...Ol[e]);Ol.length=0}function Al(){Rl||(microTask(Nl),Rl=!0)}function Nl(){if(he&&(!function(){for(let e in y){let l=y[e];null==A[e]&&(null==l.min||null!=A[v]&&l.auto(n,$e))&&(A[e]=il)}for(let e in y){let l=y[e];null==A[e]&&null!=l.from&&null!=A[l.from]&&(A[e]=il)}null!=A[v]&&ml(!0);let e={};for(let l in A){let t=A[l];if(null!=t){let s=e[l]=copy(y[l],fastIsObj);if(null!=t.min)assign(s,t);else if(l!=v||2==i)if(0==Fe&&null==s.from){let e=s.range(n,null,null,l);s.min=e[0],s.max=e[1]}else s.min=inf,s.max=-inf}}if(Fe>0){w.forEach(((t,s)=>{if(1==i){let i=t.scale,o=A[i];if(null==o)return;let r=e[i];if(0==s){let e=r.range(n,r.min,r.max,i);r.min=e[0],r.max=e[1],ze=closestIdx(r.min,l[0]),He=closestIdx(r.max,l[0]),He-ze>1&&(l[0][ze]<r.min&&ze++,l[0][He]>r.max&&He--),t.min=Ze[ze],t.max=Ze[He]}else t.show&&t.auto&&nl(r,o,t,l[s],t.sorted);t.idxs[0]=ze,t.idxs[1]=He}else if(s>0&&t.show&&t.auto){let[n,i]=t.facets,o=n.scale,r=i.scale,[a,u]=l[s],f=e[o],c=e[r];null!=f&&nl(f,A[o],n,a,n.sorted),null!=c&&nl(c,A[r],i,u,i.sorted),t.min=i.min,t.max=i.max}}));for(let l in e){let t=e[l],i=A[l];if(null==t.from&&(null==i||null==i.min)){let e=t.range(n,t.min==inf?null:t.min,t.max==-inf?null:t.max,l);t.min=e[0],t.max=e[1]}}}for(let l in e){let t=e[l];if(null!=t.from){let i=e[t.from];if(null==i.min)t.min=t.max=null;else{let e=t.range(n,i.min,i.max,l);t.min=e[0],t.max=e[1]}}}let t={},s=!1;for(let l in e){let n=e[l],i=y[l];if(i.min!=n.min||i.max!=n.max){i.min=n.min,i.max=n.max;let e=i.distr;i._min=3==e?log10(i.min):4==e?asinh(i.min,i.asinh):i.min,i._max=3==e?log10(i.max):4==e?asinh(i.max,i.asinh):i.max,t[l]=s=!0}}if(s){w.forEach(((e,l)=>{2==i?l>0&&t.y&&(e._paths=null):t[e.scale]&&(e._paths=null)}));for(let e in t)xe=!0,xt("setScale",e);be.show&&be.left>=0&&(_e=Se=!0)}for(let e in A)A[e]=null}(),he=!1),xe&&(!function(){let e=!1,l=0;for(;!e;){l++;let t=pl(l),i=dl(l);e=l==ve||t&&i,e||(Te(n.width,n.height),ge=!0)}}(),xe=!1),ge){if(setStylePx(m,LEFT,se),setStylePx(m,TOP,oe),setStylePx(m,WIDTH,ne),setStylePx(m,HEIGHT,ie),setStylePx(h,LEFT,se),setStylePx(h,TOP,oe),setStylePx(h,WIDTH,ne),setStylePx(h,HEIGHT,ie),setStylePx(d,WIDTH,le),setStylePx(d,HEIGHT,te),c.width=round(le*pxRatio),c.height=round(te*pxRatio),S.forEach((({_el:e,_show:l,_size:t,_pos:n,side:i})=>{if(null!=e)if(l){let l=i%2==1;setStylePx(e,l?"left":"top",n-(3===i||0===i?t:0)),setStylePx(e,l?"width":"height",t),setStylePx(e,l?"top":"left",l?oe:se),setStylePx(e,l?"height":"width",l?ie:ne),remClass(e,OFF)}else addClass(e,OFF)})),Ge=Ye=We=Ue=qe=je=Xe=Je=Be=null,Ke=1,tt(!0),se!=re||oe!=ae||ne!=ue||ie!=fe){ml(!1);let e=ne/ue,l=ie/fe;if(be.show&&!_e&&be.left>=0){be.left*=e,be.top*=l,xl&&elTrans(xl,round(be.left),0,ne,ie),_l&&elTrans(_l,0,round(be.top),ne,ie);for(let t=1;t<Oe.length;t++)ke[t]*=e,Ae[t]*=l,elTrans(Oe[t],incrRoundUp(ke[t],1),incrRoundUp(Ae[t],1),ne,ie)}if(zl.show&&!we&&zl.left>=0&&zl.width>0){zl.left*=e,zl.width*=e,zl.top*=l,zl.height*=l;for(let e in st)setStylePx(Hl,e,zl[e])}re=se,ae=oe,ue=ne,fe=ie}xt("setSize"),ge=!1}le>0&&te>0&&(p.clearRect(0,0,c.width,c.height),xt("drawClear"),P.forEach((e=>e())),xt("draw")),zl.show&&we&&(Vl(zl),we=!1),be.show&&_e&&(et(null,!0,!1),_e=!1),z.show&&z.live&&Se&&($l(),Se=!1),u||(u=!0,n.status=1,xt("ready")),$e=!1,Rl=!1}function Ml(e,t){let i=y[e];if(null==i.from){if(0==Fe){let l=i.range(n,t.min,t.max,e);t.min=l[0],t.max=l[1]}if(t.min>t.max){let e=t.min;t.min=t.max,t.max=e}if(Fe>1&&null!=t.min&&null!=t.max&&t.max-t.min<1e-16)return;e==v&&2==i.distr&&Fe>0&&(t.min=closestIdx(t.min,l[0]),t.max=closestIdx(t.max,l[0]),t.min==t.max&&t.max++),A[e]=t,he=!0,Al()}}n.batch=function(e,l=!1){Rl=!0,El=l,e(n),Nl(),l&&Ol.length>0&&queueMicrotask(kl)},n.redraw=(e,l)=>{xe=l||!1,!1!==e?Gl(v,R.min,R.max):Al()},n.setScale=Ml;let Ll=!1;const Il=be.drag;let Cl=Il.x,Fl=Il.y;be.show&&(be.x&&(hl=placeDiv(CURSOR_X,h)),be.y&&(gl=placeDiv(CURSOR_Y,h)),0==R.ori?(xl=hl,_l=gl):(xl=gl,_l=hl),Pl=be.left,Dl=be.top);const zl=n.select=assign({show:!0,over:!0,left:0,width:0,top:0,height:0},e.select),Hl=zl.show?placeDiv(SELECT,zl.over?h:m):null;function Vl(e,l){if(zl.show){for(let l in e)zl[l]=e[l],l in st&&setStylePx(Hl,l,e[l]);!1!==l&&xt("setSelect")}}function Gl(e,l,t){Ml(e,{min:l,max:t})}function Yl(e,l,t,s){null!=l.focus&&function(e){if(e!=Ul){let l=null==e,t=1!=Re.alpha;w.forEach(((n,s)=>{if(1==i||s>0){let i=l||0==s||s==e;n._focus=l?null:i,t&&function(e,l){w[e].alpha=l,be.show&&Oe[e]&&(Oe[e].style.opacity=l);H&&U[e]&&(U[e].style.opacity=l)}(s,i?1:Re.alpha)}})),Ul=e,t&&Al()}}(e),null!=l.show&&w.forEach(((t,n)=>{n>0&&(e==n||null==e)&&(t.show=l.show,function(e){let l=w[e],t=H?U[e]:null;l.show?t&&remClass(t,OFF):(t&&addClass(t,OFF),Oe.length>1&&elTrans(Oe[e],-10,-10,ne,ie))}(n,l.show),2==i?(Gl(t.facets[0].scale,null,null),Gl(t.facets[1].scale,null,null)):Gl(t.scale,null,null),Al())})),!1!==t&&xt("setSeries",e,l),s&&Tt("setSeries",n,e,l)}let Wl,Bl,Ul;n.setSelect=Vl,n.setSeries=Yl,n.addBand=function(e,l){e.fill=fnOrSelf(e.fill||null),e.dir=ifNull(e.dir,-1),l=null==l?T.length:l,T.splice(l,0,e)},n.setBand=function(e,l){assign(T[e],l)},n.delBand=function(e){null==e?T.length=0:T.splice(e,1)};const ql={focus:!0};function jl(e,l,t){let n=y[l];t&&(e=e/pxRatio-(1==n.ori?oe:se));let i=ne;1==n.ori&&(i=ie,e=i-e),-1==n.dir&&(e=i-e);let s=n._min,o=s+(n._max-s)*(e/i),r=n.distr;return 3==r?pow(10,o):4==r?sinh(o,n.asinh):o}function Xl(e,l){setStylePx(Hl,LEFT,zl.left=e),setStylePx(Hl,WIDTH,zl.width=l)}function Jl(e,l){setStylePx(Hl,TOP,zl.top=e),setStylePx(Hl,HEIGHT,zl.height=l)}H&&Ee&&Q(mouseleave,G,(e=>{be._lock||(Pe(e),null!=Ul&&Yl(null,ql,!0,wt.setSeries))})),n.valToIdx=e=>closestIdx(e,l[0]),n.posToIdx=function(e,t){return closestIdx(jl(e,v,t),l[0],ze,He)},n.posToVal=jl,n.valToPos=(e,l,t)=>0==y[l].ori?o(e,y[l],t?de:ne,t?ce:0):r(e,y[l],t?me:ie,t?pe:0),n.setCursor=(e,l,t)=>{Pl=e.left,Dl=e.top,et(null,l,t)};let Kl=0==R.ori?Xl:Jl,Zl=1==R.ori?Xl:Jl;function $l(e,l){null!=e&&(e.idxs?e.idxs.forEach(((e,l)=>{F[l]=e})):isUndef(e.idx)||F.fill(e.idx),z.idx=F[0]);for(let e=0;e<w.length;e++)(e>0||1==i&&!j)&&Ql(e,F[e]);H&&z.live&&function(){if(H&&z.live)for(let e=2==i?1:0;e<w.length;e++){if(0==e&&j)continue;let l=z.values[e],t=0;for(let n in l)q[e][t++].firstChild.nodeValue=l[n]}}(),Se=!1,!1!==l&&xt("setLegend")}function Ql(e,t){let i,s=w[e],o=0==e&&2==E?Ze:l[e];j?i=s.values(n,e,t)??X:(i=s.value(n,null==t?null:o[t],e,t),i=null==i?X:{_:i}),z.values[e]=i}function et(e,t,s){let o;vl=Pl,bl=Dl,[Pl,Dl]=be.move(n,Pl,Dl),be.left=Pl,be.top=Dl,be.show&&(xl&&elTrans(xl,round(Pl),0,ne,ie),_l&&elTrans(_l,0,round(Dl),ne,ie));let r=ze>He;Wl=inf;let a=0==R.ori?ne:ie,u=1==R.ori?ne:ie;if(Pl<0||0==Fe||r){o=be.idx=null;for(let e=0;e<w.length;e++)e>0&&Oe.length>1&&elTrans(Oe[e],-10,-10,ne,ie);Ee&&Yl(null,ql,!0,null==e&&wt.setSeries),z.live&&(F.fill(o),Se=!0)}else{let e,t,s;1==i&&(e=0==R.ori?Pl:Dl,t=jl(e,v),o=be.idx=closestIdx(t,l[0],ze,He),s=O(l[0][o],R,a,0));for(let e=2==i?1:0;e<w.length;e++){let r=w[e],f=F[e],c=null==f?null:1==i?l[e][f]:l[e][1][f],p=be.dataIdx(n,e,o,t),d=null==p?null:1==i?l[e][p]:l[e][1][p];Se=Se||d!=c||p!=f,F[e]=p;let m=p==o?s:O(1==i?l[0][p]:l[e][0][p],R,a,0);if(e>0&&r.show){let l,t,s=null==d?-10:k(d,1==i?y[r.scale]:y[r.facets[1].scale],u,0);if(Ee&&null!=d){let l=1==R.ori?Pl:Dl,t=abs(Re.dist(n,e,p,s,l));if(t<Wl){let n=Re.bias;if(0!=n){let i=jl(l,r.scale),s=i>=0?1:-1;s==(d>=0?1:-1)&&(1==s?1==n?d>=i:d<=i:1==n?d<=i:d>=i)&&(Wl=t,Bl=e)}else Wl=t,Bl=e}}if(0==R.ori?(l=m,t=s):(l=s,t=m),Se&&Oe.length>1){elColor(Oe[e],be.points.fill(n,e),be.points.stroke(n,e));let i,s,o,r,a=!0,u=be.points.bbox;if(null!=u){a=!1;let l=u(n,e);o=l.left,r=l.top,i=l.width,s=l.height}else o=l,r=t,i=s=be.points.size(n,e);elSize(Oe[e],i,s,a),ke[e]=o,Ae[e]=r,elTrans(Oe[e],incrRoundUp(o,1),incrRoundUp(r,1),ne,ie)}}}}if(zl.show&&Ll)if(null!=e){let[l,t]=wt.scales,[n,i]=wt.match,[s,o]=e.cursor.sync.scales,r=e.cursor.drag;if(Cl=r._x,Fl=r._y,Cl||Fl){let r,f,c,p,d,{left:m,top:h,width:g,height:x}=e.select,_=e.scales[l].ori,w=e.posToVal,S=null!=l&&n(l,s),T=null!=t&&i(t,o);S&&Cl?(0==_?(r=m,f=g):(r=h,f=x),c=y[l],p=O(w(r,s),c,a,0),d=O(w(r+f,s),c,a,0),Kl(min(p,d),abs(d-p))):Kl(0,a),T&&Fl?(1==_?(r=m,f=g):(r=h,f=x),c=y[t],p=k(w(r,o),c,u,0),d=k(w(r+f,o),c,u,0),Zl(min(p,d),abs(d-p))):Zl(0,u)}else ot()}else{let e=abs(vl-wl),l=abs(bl-Sl);if(1==R.ori){let t=e;e=l,l=t}Cl=Il.x&&e>=Il.dist,Fl=Il.y&&l>=Il.dist;let t,n,i=Il.uni;null!=i?Cl&&Fl&&(Cl=e>=i,Fl=l>=i,Cl||Fl||(l>e?Fl=!0:Cl=!0)):Il.x&&Il.y&&(Cl||Fl)&&(Cl=Fl=!0),Cl&&(0==R.ori?(t=yl,n=Pl):(t=Tl,n=Dl),Kl(min(t,n),abs(n-t)),Fl||Zl(0,u)),Fl&&(1==R.ori?(t=yl,n=Pl):(t=Tl,n=Dl),Zl(min(t,n),abs(n-t)),Cl||Kl(0,a)),Cl||Fl||(Kl(0,0),Zl(0,0))}if(Il._x=Cl,Il._y=Fl,null==e){if(s){if(null!=St){let[e,l]=wt.scales;wt.values[0]=null!=e?jl(0==R.ori?Pl:Dl,e):null,wt.values[1]=null!=l?jl(1==R.ori?Pl:Dl,l):null}Tt(mousemove,n,Pl,Dl,ne,ie,o)}if(Ee){let e=s&&wt.setSeries,l=Re.prox;null==Ul?Wl<=l&&Yl(Bl,ql,!0,e):Wl>l?Yl(null,ql,!0,e):Bl!=Ul&&Yl(Bl,ql,!0,e)}}Se&&(z.idx=o,$l()),!1!==t&&xt("setCursor")}n.setLegend=$l;let lt=null;function tt(e=!1){e?lt=null:(lt=h.getBoundingClientRect(),xt("syncRect",lt))}function nt(e,l,t,n,i,s,o){be._lock||Ll&&null!=e&&0==e.movementX&&0==e.movementY||(it(e,l,t,n,i,s,o,!1,null!=e),null!=e?et(null,!0,!0):et(l,!0,!1))}function it(e,l,t,i,s,o,r,u,f){if(null==lt&&tt(!1),Pe(e),null!=e)t=e.clientX-lt.left,i=e.clientY-lt.top;else{if(t<0||i<0)return Pl=-10,void(Dl=-10);let[e,n]=wt.scales,r=l.cursor.sync,[u,f]=r.values,[c,p]=r.scales,[d,m]=wt.match,h=l.axes[0].side%2==1,g=0==R.ori?ne:ie,x=1==R.ori?ne:ie,_=h?o:s,w=h?s:o,S=h?i:t,T=h?t:i;if(t=null!=c?d(e,c)?a(u,y[e],g,0):-10:g*(S/_),i=null!=p?m(n,p)?a(f,y[n],x,0):-10:x*(T/w),1==R.ori){let e=t;t=i,i=e}}f&&((t<=1||t>=ne-1)&&(t=incrRound(t,ne)),(i<=1||i>=ie-1)&&(i=incrRound(i,ie))),u?(wl=t,Sl=i,[yl,Tl]=be.move(n,t,i)):(Pl=t,Dl=i)}Object.defineProperty(n,"rect",{get:()=>(null==lt&&tt(!1),lt)});const st={width:0,height:0,left:0,top:0};function ot(){Vl(st,!1)}let rt,at,ut,ft;function ct(e,l,t,i,s,o,r){Ll=!0,Cl=Fl=Il._x=Il._y=!1,it(e,l,t,i,s,o,0,!0,!1),null!=e&&(Q(mouseup,doc,pt,!1),Tt(mousedown,n,yl,Tl,ne,ie,null));let{left:a,top:u,width:f,height:c}=zl;rt=a,at=u,ut=f,ft=c,ot()}function pt(e,l,t,i,s,o,r){Ll=Il._x=Il._y=!1,it(e,l,t,i,s,o,0,!1,!0);let{left:a,top:u,width:f,height:c}=zl,p=f>0||c>0,d=rt!=a||at!=u||ut!=f||ft!=c;if(p&&d&&Vl(zl),Il.setScale&&p&&d){let e=a,l=f,t=u,n=c;if(1==R.ori&&(e=u,l=c,t=a,n=f),Cl&&Gl(v,jl(e,v),jl(e+l,v)),Fl)for(let e in y){let l=y[e];e!=v&&null==l.from&&l.min!=inf&&Gl(e,jl(t+n,e),jl(t,e))}ot()}else be.lock&&(be._lock=!be._lock,be._lock||et(null,!0,!1));null!=e&&(ee(mouseup,doc),Tt(mouseup,n,Pl,Dl,ne,ie,null))}function dt(e,l,t,i,s,o,r){be._lock||(Pe(e),el(),ot(),null!=e&&Tt(dblclick,n,Pl,Dl,ne,ie,null))}function mt(){S.forEach(syncFontSize),ye(n.width,n.height,!0)}on(dppxchange,win,mt);const ht={};ht.mousedown=ct,ht.mousemove=nt,ht.mouseup=pt,ht.dblclick=dt,ht.setSeries=(e,l,t,i)=>{-1!=(t=(0,wt.match[2])(n,l,t))&&Yl(t,i,!0,!1)},be.show&&(Q(mousedown,h,ct),Q(mousemove,h,nt),Q(mouseenter,h,(e=>{Pe(e),tt(!1)})),Q(mouseleave,h,(function(e,l,t,n,i,s,o){if(be._lock)return;Pe(e);let r=Ll;if(Ll){let e,l,t=!0,n=!0,i=10;0==R.ori?(e=Cl,l=Fl):(e=Fl,l=Cl),e&&l&&(t=Pl<=i||Pl>=ne-i,n=Dl<=i||Dl>=ie-i),e&&t&&(Pl=Pl<yl?0:ne),l&&n&&(Dl=Dl<Tl?0:ie),et(null,!0,!0),Ll=!1}Pl=-10,Dl=-10,et(null,!0,!0),r&&(Ll=r)})),Q(dblclick,h,dt),cursorPlots.add(n),n.syncRect=tt);const gt=n.hooks=e.hooks||{};function xt(e,l,t){El?Ol.push([e,l,t]):e in gt&&gt[e].forEach((e=>{e.call(null,n,l,t)}))}(e.plugins||[]).forEach((e=>{for(let l in e.hooks)gt[l]=(gt[l]||[]).concat(e.hooks[l])}));const _t=(e,l,t)=>t,wt=assign({key:null,setSeries:!1,filters:{pub:retTrue,sub:retTrue},scales:[v,w[1]?w[1].scale:null],match:[retEq,retEq,_t],values:[null,null]},be.sync);2==wt.match.length&&wt.match.push(_t),be.sync=wt;const St=wt.key,yt=_sync(St);function Tt(e,l,t,n,i,s,o){wt.filters.pub(e,l,t,n,i,s,o)&&yt.pub(e,l,t,n,i,s,o)}function vt(){xt("init",e,l),Qe(l||e.data,!1),A[v]?Ml(v,A[v]):el(),we=zl.show&&(zl.width>0||zl.height>0),_e=Se=!0,ye(e.width,e.height)}return yt.sub(n),n.pub=function(e,l,t,n,i,s,o){wt.filters.sub(e,l,t,n,i,s,o)&&ht[e](null,l,t,n,i,s,o)},n.destroy=function(){yt.unsub(n),cursorPlots.delete(n),$.clear(),off(dppxchange,win,mt),f.remove(),G?.remove(),xt("destroy")},w.forEach(Ne),S.forEach((function(e,l){if(e._show=e.show,e.show){let t=e.side%2,i=y[e.scale];null==i&&(e.scale=t?w[1].scale:v,i=y[e.scale]);let s=i.time;e.size=fnOrSelf(e.size),e.space=fnOrSelf(e.space),e.rotate=fnOrSelf(e.rotate),isArr(e.incrs)&&e.incrs.forEach((e=>{!fixedDec.has(e)&&fixedDec.set(e,guessDec(e))})),e.incrs=fnOrSelf(e.incrs||(2==i.distr?wholeIncrs:s?1==_?timeIncrsMs:timeIncrsS:numIncrs)),e.splits=fnOrSelf(e.splits||(s&&1==i.distr?L:3==i.distr?logAxisSplits:4==i.distr?asinhAxisSplits:numAxisSplits)),e.stroke=fnOrSelf(e.stroke),e.grid.stroke=fnOrSelf(e.grid.stroke),e.ticks.stroke=fnOrSelf(e.ticks.stroke),e.border.stroke=fnOrSelf(e.border.stroke);let o=e.values;e.values=isArr(o)&&!isArr(o[0])?fnOrSelf(o):s?isArr(o)?timeAxisVals(N,timeAxisStamps(o,M)):isStr(o)?timeAxisVal(N,o):o||I:o||numAxisVals,e.filter=fnOrSelf(e.filter||(i.distr>=3&&10==i.log?log10AxisValsFilt:3==i.distr&&2==i.log?log2AxisValsFilt:retArg1)),e.font=pxRatioFont(e.font),e.labelFont=pxRatioFont(e.labelFont),e._size=e.size(n,null,l,0),e._space=e._rotate=e._incrs=e._found=e._splits=e._values=null,e._size>0&&(Me[l]=!0,e._el=placeDiv(AXIS,d))}})),t?t instanceof HTMLElement?(t.appendChild(f),vt()):t(n,vt):vt(),n}uPlot.assign=assign,uPlot.fmtNum=fmtNum,uPlot.rangeNum=rangeNum,uPlot.rangeLog=rangeLog,uPlot.rangeAsinh=rangeAsinh,uPlot.orient=orient,uPlot.pxRatio=pxRatio,uPlot.join=join,uPlot.fmtDate=fmtDate,uPlot.tzDate=tzDate,uPlot.sync=_sync;{uPlot.addGap=addGap,uPlot.clipGaps=clipGaps;let e=uPlot.paths={points:points};e.linear=linear,e.stepped=stepped,e.bars=bars,e.spline=monotoneCubic}export{uPlot as default};
//# sourceMappingURL=/sm/f18be995e4ab435ce59683c6e712c3dd33310399b3269ef6b672f1a7299c3b45.map